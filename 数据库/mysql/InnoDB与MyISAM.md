# InnoDB与MyISAM

## InnoDB引擎
InnoDB是一个事务型的存储引擎，支持回滚，设计目标是处理大量数据时提供高性能的服务，运行时会在内存中建立缓冲池，用于缓冲数据和索引。

### 优点
* 支持事务处理，ACID事务特性
* 实现了SQL标准的四种隔离级别
* 支持行锁和外键约束
* 可以利用事务日志进行数据恢复
* 锁级别为行锁，适用于高并发的频繁表修改，高并发性能优于MyISAM，缺点是系统消耗较大。
* 索引不仅缓存自身，也缓存数据，相比于MyISAM需要更大的内存

### 缺点
没有保存表的数据，使用COUNT计数时会全表扫描

## MyISAM
### 优点
* 高性能读取
* 保存了表的行数，count计数不会扫描全表

### 缺点
* 锁级别为表锁，表锁优点是开销小，加锁快；缺点是加锁粒度大，发生冲突概率较高，并发能力低，适合查询业务为主
* 不支持事务也不支持外键
* INSERT和UPDATE操作需要锁定整个表

## 适用场景
MyISAM适合：(1)做很多count 的计算；(2)插入不频繁，查询非常频繁；(3)没有事务。

InnoDB适合：(1)可靠性要求比较高，或者要求事务；(2)表更新和查询都相当的频繁，并且表锁定的机会比较大的情况。