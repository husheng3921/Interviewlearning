# 16 位运算及其实战要点
## 位运算符
```
左移    <<   0011->0110(左移1位)   低位补0
右移    >>   0110->0011(右移1位)   高位补0
按位或   |   0011|1011->1011
按位与   &   0011&1011->0011
按位取反 ~   0011->1100
按位异或 ^   0011^1011->1000      XOR  相同为0，异为1
```
### XOR异或
异或：相同为0，不同为1，也可以用<font color="red">不进位加法</font>来理解。  
异或操作的特点：
```
x^0 = x          1100^0000 = 1100
x^1s = ~x(1s=~0) 1100^1111 = 0011
x^(~x) = 1s      1100^0011 = 1111(1s)
x^x = 0          1100^1100 = 0000
c = a^b -> a^c = b,b^c = a//交换
a^b^c = a^(b^c) = (a^b)^c //结合
```
### 指定位置的位运算

* 将x最右边的n位清0 `x&(~0<<n)`,产生右边n位0
* 获取x的第n位值(0或1) `(x>>n)&1`  
* 获取x的第n位的幂值 `x&(1<<(n-1))`
* 仅将x的第n位置为1 `x|(1<<n)` 构造第n位为1
* 仅将x的第n位置为0 `x|(~(1<<n))` 构造第n位为0
* 将x最高位第n位(含)清零 `x&((1<<n)-1)`
* 将第n位第0位(含)清零 `x&(~((1<<(n+1))-1))`

### 实战运算要点
* 判断奇偶：
> ```
> x % 2 == 1  -> (x&1) == 1 末尾位数是否为1
> x % 2 == 0  -> (x&1) == 0 位数为0
> ```

* `x>>1 -> x/2    x = x/2->x=x>>1`
* `x = x & (x-1)` 清零最低位的1
* `x & -x` 得到最低位的1
* `x & ~x -> 0`

### 实战题目LeetCode

* LC191 位1的个数
* LC231 2的幂
* LC190 颠倒2进位
* LC51 n皇后
* LC52 n皇后II
* LC338 比特位计数